<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <ProjectGuid>{27B00618-A6F2-4828-B922-05CAEB08C286}</ProjectGuid>
    <TargetFramework>net472</TargetFramework>
    <LangVersion>7.2</LangVersion>
    <!-- The Mesh editor uses the Debug Mesh API assemblies -->
    <MeshApiConfiguration>Debug</MeshApiConfiguration>
    <MeshSourceRootPath>$(SolutionDir)/../../../../</MeshSourceRootPath>
    <MeshOutputDataDir>$(MeshSourceRootPath)/bin/MeshSharp</MeshOutputDataDir>
    <MeshApiAssembliesDir>$(MeshOutputDataDir)/Api/$(MeshApiConfiguration)</MeshApiAssembliesDir>
  </PropertyGroup>
  <PropertyGroup Condition=" Exists('$(MeshApiAssembliesDir)/MeshSharp.dll') ">
    <!-- The project is part of the Mesh source tree -->
    <!-- Use the Mesh source tree output folder instead of '$(ProjectDir)/bin' -->
    <OutputPath>$(MeshOutputDataDir)/Tools</OutputPath>
    <!-- Must not append '$(TargetFramework)' to the output path in this case -->
    <AppendTargetFrameworkToOutputPath>False</AppendTargetFrameworkToOutputPath>
  </PropertyGroup>
  <ItemGroup>
    <PackageReference Include="JetBrains.Annotations" Version="2019.1.3.0" ExcludeAssets="runtime" PrivateAssets="all" />
    <PackageReference Include="Microsoft.NETFramework.ReferenceAssemblies" Version="1.0.0" PrivateAssets="All" />
    <PackageReference Include="Newtonsoft.Json" Version="12.0.3" />
    <Reference Include="MeshSharp">
      <HintPath>$(MeshApiAssembliesDir)/MeshSharp.dll</HintPath>
      <Private>False</Private>
    </Reference>
    <Reference Include="MeshSharpEditor">
      <HintPath>$(MeshApiAssembliesDir)/MeshSharpEditor.dll</HintPath>
      <Private>False</Private>
    </Reference>
  </ItemGroup>
  <ItemGroup>
    <ProjectReference Include="..\MeshTools.BuildLogger\MeshTools.BuildLogger.csproj" />
    <ProjectReference Include="..\MeshTools.IdeMessaging\MeshTools.IdeMessaging.csproj" />
    <ProjectReference Include="..\MeshTools.ProjectEditor\MeshTools.ProjectEditor.csproj" />
    <ProjectReference Include="..\MeshTools.Core\MeshTools.Core.csproj" />
    <!-- Include it if this is an SCons build targeting Windows, or if it's not an SCons build but we're on Windows -->
    <ProjectReference Include="..\MeshTools.OpenVisualStudio\MeshTools.OpenVisualStudio.csproj" Condition=" '$(MeshPlatform)' == 'windows' Or ( '$(MeshPlatform)' == '' And '$(OS)' == 'Windows_NT' ) " />
  </ItemGroup>
</Project>
